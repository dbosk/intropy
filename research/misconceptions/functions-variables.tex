\subsection{Functions and variables}

According to \textcite{MisconceptionsSurvey2017}, in their article 
\citetitle{MisconceptionsSurvey2017}, students have difficulties understanding 
variables and that the students usually make assumptions about variables that 
are wrong.

According to \textcite{Kohn2017VariableEvaluation,Plass2015Variables}, 
sometimes students even think that variables can hold an entire algorithm and 
therefore see a variable as a function (or mathematical equation). This will 
create problems when a student creates a variable in belief that the variable 
will change its value when the equation is supposed to change its value or at 
the time when the variable is used in the program.
\Textcite{Kohn2017VariableEvaluation} explains that this misconception can be 
connected to how variable definitions are used in mathematics. 

From a variation theoretic perspective, we can say several things about this:
\begin{enumerate*}
  \item That variables and functions are interconnected and should be treated 
    simultaneously (not \enquote{one thing at a time}), to be able to contrast 
    them \parencite[\cf][Ch~6, pp~167--168]{NCOL}.
  \item Unlike in mathematics, every line in a piece of program (in an 
    imperative language) is constitutes a new state of the program.
    We must teach this to students through a series of patterns, as dictated by 
    variation theory.
\end{enumerate*}

XXX propose a pattern for this example.

There is also a misconception that variables can hold more than one value at 
the time (XXX citation).
This misconception can relate to several things:
\begin{enumerate*}
  \item the type system, confusing lists with non-container types, not seeing a 
    list as a type itself;
  \item the scope of variables, that the same variable identifier can be used 
    for different things in different scopes.
\end{enumerate*}

XXX Possible ways to attack this using variation theory \dots

But it is not only the right side of the variable definition that students can 
have misconceptions about. The name of the variable has been misunderstood as 
having power of the value which it holds 
\parencite{MisconceptionsSurvey2017,Sleeman1984}. For example, if a student 
names one variable \emph{max} and another variable \emph{min}, the student 
might think that the variables will strictly only hold the maximum value and 
the minimum value throughout the program. 

We can both explain this phenomenon and propose a teaching design using 
variation theory.
Let's start with the explanation.
When teaching the students we always use proper (\ie relevant) variable names 
that relate to the purpose of the variable.
If we never show the students any examples where the variable name is not 
related to its purpose (bad variable names), they cannot separate the variable 
naming from its purpose.
This, inevitably, leads to the teaching design:
we must show the students that the variable names are independent of their 
purpose.
We do this by introducing \emph{contrast}.
We show a standard example, then we change a variable name from a relevant to 
an irrelevant one.
We show that the program still works.
We can then \emph{generalize} this by showing that we can rename the other 
variables too, and even show other examples where the variable names are 
disconnected from the purpose.
When done, we can point out that we name variables properly for readability 
(ease of comprehension), by \emph{contrasting} the same example with and 
without relevant variable names.
We can follow this by \emph{generalization}, by showing a previously unseen 
example with unrelated variable names and trying to read it.

If we move on to the relationship between variables and functions we can see 
more misconceptions that students have; for example, from where input and 
output arguments come from and go to \parencite{Ragonis2005OOP}.
The first difficulty is how students treat return-values. When a function is 
supposed to return a value some students miss the return value, expecting the 
function to return it by default \parencite{Kurvinen2016,KumarVeerasamy2016}.
A student might also write a function which returns a value, but that value is 
not stored or being used later in the program \parencite{AltadmriBrown2015}.
Some students might also believe that a print-statement at the end of a 
function will act as a return statement \parencite{MisconceptionsSurvey2017}. 
Another misconception that goes hand in hand with the assumption that a 
variable holds an equation and not a single value, is that if in the return 
statement the student returns an equation, the student believes that the return 
value will be that equation, not the value that the equation represents 
\parencite{Kohn2017VariableEvaluation}. Some students also have difficulties 
returning the right value or variable from a function 
\parencite{KumarVeerasamy2016}. 

It is not only the return value that is difficult to grasp for students, the input arguments are also a difficult concept for some students. When calling a function it shows that the student have trouble using and understanding what arguments are meant to be used in the function call (Altadmri \& Brown, 2015). Ann E. Fleury (1991) researched the conceptual misconseptions students have when using parameters in functions, in her article \emph{Parameter passing: the rules the students construct}. What she found was that students had constructed their own rules for the using of global and local variables which were connected to the using of variables in functions. The first rule that a student had conducted was that when changing a local variable in a function, the variable was changed for the whole program. Another assumption made by the students was that if the local variable was not an argument in the function-call, the program would go back to where the function was called and search for it there. The assumptions the students had made about global variables was that if a function references to a global variable, it will create an error in the program because the global variable was not an argument in the function call. The students also believed that if a global variable was changed in the function body, the new value would not be reachable for the rest of the program if not returned by the function (Fleury, 1991).

The difference between variables in programming and variables in math is differences that some students does not grasp. If a student in a variable definition uses on the right side of the equal symbol a variable that is not defined, but the variable on the left side is already defined, they think that the computer will solve this as an equation (Plass-Oude Bos, 2015). This assumption by the students is also something discovered by Kohn (2017) when giving the students the definition \emph{x = x + 1}. If you look at this definition with a mathematical perspective you will see an unsolvable equation, which is also what some of the students saw. They did not see that the x to the left is the variable, and that the x to the right only holds a value. This definition is  easier to understand for a novice programmer according to Kohn (2017) when we instead write this definition as \emph{x += 1}. 


